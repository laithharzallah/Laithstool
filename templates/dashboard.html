<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Risklytics - Professional Risk Intelligence</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .glass-panel {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .metric-card {
            transition: all 0.3s ease;
        }
        .metric-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        .nav-item {
            transition: all 0.2s ease;
        }
        .nav-item:hover {
            background: rgba(255,255,255,0.1);
            transform: translateX(4px);
        }
        .nav-item.active {
            background: rgba(255,255,255,0.15);
            border-left: 4px solid #fff;
        }
    </style>
</head>
<body class="gradient-bg min-h-screen">
    <div x-data="dashboard()" x-init="init()" class="flex h-screen">
        <!-- Sidebar -->
        <div class="w-72 glass-panel m-4 rounded-2xl flex flex-col">
            <!-- Logo -->
            <div class="p-8 border-b border-white/10">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center">
                        <i data-lucide="shield-check" class="w-6 h-6 text-white"></i>
                    </div>
                    <div>
                        <h1 class="text-xl font-bold text-white">Risklytics</h1>
                        <p class="text-white/60 text-sm">Risk Intelligence Platform</p>
                    </div>
                </div>
            </div>
            
            <!-- Navigation -->
            <nav class="flex-1 p-6 space-y-2">
                <a href="/" class="nav-item active flex items-center p-4 rounded-xl text-white/90 font-medium">
                    <i data-lucide="layout-dashboard" class="w-5 h-5 mr-3"></i>
                    Dashboard
                </a>
                
                <a href="/company" class="nav-item flex items-center p-4 rounded-xl text-white/70 hover:text-white font-medium">
                    <i data-lucide="building-2" class="w-5 h-5 mr-3"></i>
                    Company Screening
                </a>
                
                <a href="/individual" class="nav-item flex items-center p-4 rounded-xl text-white/70 hover:text-white font-medium">
                    <i data-lucide="user-check" class="w-5 h-5 mr-3"></i>
                    Individual Screening
                </a>
                
                <a href="/dart" class="nav-item flex items-center p-4 rounded-xl text-white/70 hover:text-white font-medium">
                    <i data-lucide="search" class="w-5 h-5 mr-3"></i>
                    DART Registry
                    <span class="ml-auto px-2 py-1 bg-blue-500/20 text-blue-200 rounded-full text-xs">KR</span>
                </a>
                
                <a href="/whatsapp" class="nav-item flex items-center p-4 rounded-xl text-white/70 hover:text-white font-medium">
                    <i data-lucide="message-circle" class="w-5 h-5 mr-3"></i>
                    WhatsApp Agent
                </a>
                
                <div class="pt-6 mt-6 border-t border-white/10">
                    <a href="/debug" class="nav-item flex items-center p-4 rounded-xl text-white/50 hover:text-white/70 font-medium">
                        <i data-lucide="settings" class="w-5 h-5 mr-3"></i>
                        System Debug
                    </a>
                </div>
            </nav>
            
            <!-- User Info -->
            <div class="p-6 border-t border-white/10">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center">
                        <i data-lucide="user" class="w-5 h-5 text-white"></i>
                    </div>
                    <div class="flex-1">
                        <p class="text-white font-medium">Admin User</p>
                        <p class="text-white/60 text-sm">Professional License</p>
                    </div>
                    <a href="/logout" class="text-white/60 hover:text-white">
                        <i data-lucide="log-out" class="w-5 h-5"></i>
                    </a>
                </div>
            </div>
        </div>
        
        <!-- Main Content -->
        <div class="flex-1 flex flex-col m-4 ml-0">
            <!-- Header -->
            <div class="glass-panel rounded-2xl p-6 mb-6">
                <div class="flex items-center justify-between">
                    <div>
                        <h2 class="text-2xl font-bold text-gray-900">Risk Intelligence Dashboard</h2>
                        <p class="text-gray-600 mt-1">Comprehensive due diligence and compliance screening</p>
                    </div>
                    <div class="flex items-center space-x-4">
                        <div class="flex items-center space-x-2">
                            <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                            <span class="text-sm text-gray-600">All Systems Operational</span>
                        </div>
                        <button @click="refreshDashboard()" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">
                            <i data-lucide="refresh-cw" class="w-4 h-4 mr-2"></i>
                            Refresh
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Quick Actions -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                <a href="/company" class="metric-card glass-panel rounded-2xl p-6 block group">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-gray-600 text-sm font-medium">Company Screening</p>
                            <p class="text-2xl font-bold text-gray-900 mt-1">Start</p>
                        </div>
                        <div class="w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center group-hover:bg-blue-200 transition-colors">
                            <i data-lucide="building-2" class="w-6 h-6 text-blue-600"></i>
                        </div>
                    </div>
                    <p class="text-gray-500 text-sm mt-3">Comprehensive due diligence</p>
                </a>
                
                <a href="/individual" class="metric-card glass-panel rounded-2xl p-6 block group">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-gray-600 text-sm font-medium">Individual Screening</p>
                            <p class="text-2xl font-bold text-gray-900 mt-1">Start</p>
                        </div>
                        <div class="w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center group-hover:bg-green-200 transition-colors">
                            <i data-lucide="user-check" class="w-6 h-6 text-green-600"></i>
                        </div>
                    </div>
                    <p class="text-gray-500 text-sm mt-3">PEP & sanctions screening</p>
                </a>
                
                <a href="/dart" class="metric-card glass-panel rounded-2xl p-6 block group">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-gray-600 text-sm font-medium">DART Registry</p>
                            <p class="text-2xl font-bold text-gray-900 mt-1">Search</p>
                        </div>
                        <div class="w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center group-hover:bg-purple-200 transition-colors">
                            <i data-lucide="search" class="w-6 h-6 text-purple-600"></i>
                        </div>
                    </div>
                    <p class="text-gray-500 text-sm mt-3">Korean companies</p>
                </a>
                
                <a href="/whatsapp" class="metric-card glass-panel rounded-2xl p-6 block group">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-gray-600 text-sm font-medium">WhatsApp Agent</p>
                            <p class="text-2xl font-bold text-gray-900 mt-1">Test</p>
                        </div>
                        <div class="w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center group-hover:bg-orange-200 transition-colors">
                            <i data-lucide="message-circle" class="w-6 h-6 text-orange-600"></i>
                        </div>
                    </div>
                    <p class="text-gray-500 text-sm mt-3">Registry lookups</p>
                </a>
            </div>
            
            <!-- System Status -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
                <div class="glass-panel rounded-2xl p-6">
                    <h3 class="text-lg font-semibold text-gray-900 mb-4">System Health</h3>
                    <div class="space-y-4">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-3">
                                <div class="w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center">
                                    <i data-lucide="brain" class="w-4 h-4 text-green-600"></i>
                                </div>
                                <div>
                                    <p class="font-medium text-gray-900">OpenAI GPT-5</p>
                                    <p class="text-sm text-gray-500">AI Analysis Engine</p>
                                </div>
                            </div>
                            <div class="flex items-center space-x-2">
                                <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                                <span class="text-sm text-gray-600">Active</span>
                            </div>
                        </div>
                        
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-3">
                                <div class="w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center">
                                    <i data-lucide="shield" class="w-4 h-4 text-blue-600"></i>
                                </div>
                                <div>
                                    <p class="font-medium text-gray-900">Dilisense AML</p>
                                    <p class="text-sm text-gray-500">Compliance Database</p>
                                </div>
                            </div>
                            <div class="flex items-center space-x-2">
                                <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                                <span class="text-sm text-gray-600">Connected</span>
                            </div>
                        </div>
                        
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-3">
                                <div class="w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center">
                                    <i data-lucide="database" class="w-4 h-4 text-purple-600"></i>
                                </div>
                                <div>
                                    <p class="font-medium text-gray-900">DART Registry</p>
                                    <p class="text-sm text-gray-500">Korean FSS Database</p>
                                </div>
                            </div>
                            <div class="flex items-center space-x-2">
                                <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                                <span class="text-sm text-gray-600">Online</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="glass-panel rounded-2xl p-6">
                    <h3 class="text-lg font-semibold text-gray-900 mb-4">Recent Activity</h3>
                    <div class="space-y-4">
                        <div class="flex items-center space-x-3">
                            <div class="w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center">
                                <i data-lucide="building-2" class="w-4 h-4 text-blue-600"></i>
                            </div>
                            <div class="flex-1">
                                <p class="font-medium text-gray-900">Company screening ready</p>
                                <p class="text-sm text-gray-500">GPT-5 enhanced intelligence</p>
                            </div>
                            <span class="text-xs text-gray-400">Now</span>
                        </div>
                        
                        <div class="flex items-center space-x-3">
                            <div class="w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center">
                                <i data-lucide="user-check" class="w-4 h-4 text-green-600"></i>
                            </div>
                            <div class="flex-1">
                                <p class="font-medium text-gray-900">Individual screening ready</p>
                                <p class="text-sm text-gray-500">PEP & sanctions checking</p>
                            </div>
                            <span class="text-xs text-gray-400">Now</span>
                        </div>
                        
                        <div class="flex items-center space-x-3">
                            <div class="w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center">
                                <i data-lucide="search" class="w-4 h-4 text-purple-600"></i>
                            </div>
                            <div class="flex-1">
                                <p class="font-medium text-gray-900">DART registry connected</p>
                                <p class="text-sm text-gray-500">Korean company database</p>
                            </div>
                            <span class="text-xs text-gray-400">Now</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Feature Highlights -->
            <div class="glass-panel rounded-2xl p-6">
                <h3 class="text-lg font-semibold text-gray-900 mb-6">Platform Capabilities</h3>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="space-y-4">
                        <h4 class="font-medium text-gray-900 flex items-center">
                            <i data-lucide="zap" class="w-4 h-4 mr-2 text-yellow-500"></i>
                            AI-Powered Intelligence
                        </h4>
                        <ul class="space-y-2 text-sm text-gray-600">
                            <li class="flex items-center">
                                <i data-lucide="check" class="w-3 h-3 mr-2 text-green-500"></i>
                                GPT-5 enhanced analysis
                            </li>
                            <li class="flex items-center">
                                <i data-lucide="check" class="w-3 h-3 mr-2 text-green-500"></i>
                                Real-time web validation
                            </li>
                            <li class="flex items-center">
                                <i data-lucide="check" class="w-3 h-3 mr-2 text-green-500"></i>
                                Structured intelligence reports
                            </li>
                        </ul>
                    </div>
                    
                    <div class="space-y-4">
                        <h4 class="font-medium text-gray-900 flex items-center">
                            <i data-lucide="shield" class="w-4 h-4 mr-2 text-blue-500"></i>
                            Compliance Screening
                        </h4>
                        <ul class="space-y-2 text-sm text-gray-600">
                            <li class="flex items-center">
                                <i data-lucide="check" class="w-3 h-3 mr-2 text-green-500"></i>
                                OFAC, EU, UN sanctions
                            </li>
                            <li class="flex items-center">
                                <i data-lucide="check" class="w-3 h-3 mr-2 text-green-500"></i>
                                PEP identification
                            </li>
                            <li class="flex items-center">
                                <i data-lucide="check" class="w-3 h-3 mr-2 text-green-500"></i>
                                Adverse media monitoring
                            </li>
                        </ul>
                    </div>
                    
                    <div class="space-y-4">
                        <h4 class="font-medium text-gray-900 flex items-center">
                            <i data-lucide="globe" class="w-4 h-4 mr-2 text-green-500"></i>
                            Global Coverage
                        </h4>
                        <ul class="space-y-2 text-sm text-gray-600">
                            <li class="flex items-center">
                                <i data-lucide="check" class="w-3 h-3 mr-2 text-green-500"></i>
                                Korean DART registry
                            </li>
                            <li class="flex items-center">
                                <i data-lucide="check" class="w-3 h-3 mr-2 text-green-500"></i>
                                Global company databases
                            </li>
                            <li class="flex items-center">
                                <i data-lucide="check" class="w-3 h-3 mr-2 text-green-500"></i>
                                Multi-language support
                            </li>
                        </ul>
                    </div>
                    
                    <div class="space-y-4">
                        <h4 class="font-medium text-gray-900 flex items-center">
                            <i data-lucide="message-square" class="w-4 h-4 mr-2 text-orange-500"></i>
                            WhatsApp Integration
                        </h4>
                        <ul class="space-y-2 text-sm text-gray-600">
                            <li class="flex items-center">
                                <i data-lucide="check" class="w-3 h-3 mr-2 text-green-500"></i>
                                Natural language queries
                            </li>
                            <li class="flex items-center">
                                <i data-lucide="check" class="w-3 h-3 mr-2 text-green-500"></i>
                                Instant company lookups
                            </li>
                            <li class="flex items-center">
                                <i data-lucide="check" class="w-3 h-3 mr-2 text-green-500"></i>
                                Intelligent entity matching
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function dashboard() {
            return {
                systemHealth: {
                    openai: 'healthy',
                    dilisense: 'healthy',
                    dart: 'healthy'
                },
                
                init() {
                    this.checkSystemHealth();
                    lucide.createIcons();
                },
                
                async checkSystemHealth() {
                    try {
                        const response = await fetch('/api/health');
                        const data = await response.json();
                        
                        this.systemHealth = {
                            openai: data.components?.openai?.status || 'unknown',
                            dilisense: data.components?.dilisense?.status || 'unknown',
                            dart: data.components?.dart?.status || 'unknown'
                        };
                        
                    } catch (error) {
                        console.error('Health check failed:', error);
                    }
                },
                
                async refreshDashboard() {
                    await this.checkSystemHealth();
                    // Add visual feedback
                    const btn = event.target.closest('button');
                    const icon = btn.querySelector('i');
                    icon.classList.add('animate-spin');
                    setTimeout(() => {
                        icon.classList.remove('animate-spin');
                    }, 1000);
                }
            };
        }
    </script>
</body>
</html>